<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Soil Alarm Control</title>

<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>

<style>
body{
  font-family: Arial;
  text-align:center;
  margin-top:80px;
}
button{
  padding:15px 30px;
  font-size:20px;
  margin:10px;
}
</style>
</head>

<body>

<h1>ðŸŒ± Soil Alarm Control</h1>

<button onclick="setAlarm(true)">ðŸ”´ Alarm ON</button>
<button onclick="setAlarm(false)">ðŸŸ¢ Alarm OFF</button>

<h2 id="status">Loading...</h2>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyD2IwpGy6Zz4pLhejIAfP-EAeBKUyXgJwc",
  authDomain: "kjszz-la818.firebaseapp.com",
  databaseURL: "https://kjszz-la818-default-rtdb.firebaseio.com",
  projectId: "kjszz-la818",
  storageBucket: "kjszz-la818.firebasestorage.app",
  messagingSenderId: "1056726378754",
  appId: "1:1056726378754:web:fea6ee2b60dcda89783a1b",
  measurementId: "G-S1WLLDMQ15"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

function setAlarm(val){
  db.ref("control/alarm").set(val);
}

db.ref("control/alarm").on("value",(snap)=>{
  document.getElementById("status").innerText =
   "Alarm Status : " + snap.val();
});
</script>

</body>
</html>
